<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Sistema de Gest√£o BIOMA Uberaba - Completo">
    <meta name="author" content="Juan Marco (@juanmarco1999)">
    
    <title>BIOMA Uberaba - Sistema de Gest√£o v2.5 Ultra Profissional</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üå≥</text></svg>">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <style>
        /* ===== VARI√ÅVEIS DE TEMA ===== */
        :root[data-theme="light"] {
            --primary: #7C3AED;
            --primary-dark: #6D28D9;
            --secondary: #EC4899;
            --accent: #F59E0B;
            --success: #10B981;
            --danger: #EF4444;
            --warning: #F59E0B;
            --info: #3B82F6;
            --bg-main: #F9FAFB;
            --bg-card: #FFFFFF;
            --bg-sidebar: #1F2937;
            --bg-sidebar-hover: #374151;
            --text-primary: #1F2937;
            --text-secondary: #6B7280;
            --text-muted: #9CA3AF;
            --border-color: #E5E7EB;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 8px 30px rgba(124, 58, 237, 0.15);
        }

        :root[data-theme="dark"] {
            --primary: #8B5CF6;
            --primary-dark: #7C3AED;
            --secondary: #F472B6;
            --accent: #FBBF24;
            --success: #34D399;
            --danger: #F87171;
            --warning: #FBBF24;
            --info: #60A5FA;
            --bg-main: #0F172A;
            --bg-card: #1E293B;
            --bg-sidebar: #0F172A;
            --bg-sidebar-hover: #1E293B;
            --text-primary: #F1F5F9;
            --text-secondary: #CBD5E1;
            --text-muted: #94A3B8;
            --border-color: #334155;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            --shadow-hover: 0 8px 30px rgba(139, 92, 246, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-main);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* ===== AUTH SCREEN ===== */
        .auth-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            animation: gradientAnimation 15s ease infinite;
            background-size: 400% 400%;
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .auth-box {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 50px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
            animation: slideUp 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .auth-logo {
            text-align: center;
            margin-bottom: 40px;
        }

        .auth-logo .logo-icon {
            font-size: 5rem;
            background: linear-gradient(135deg, #7C3AED, #EC4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 2s ease-in-out infinite;
            filter: drop-shadow(0 5px 15px rgba(124, 58, 237, 0.3));
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .auth-logo h2 {
            font-weight: 900;
            font-size: 2.8rem;
            color: #1F2937;
            margin-top: 20px;
            letter-spacing: 2px;
        }

        .auth-logo p {
            color: #6B7280;
            font-size: 1.1rem;
            margin-top: 10px;
            font-weight: 500;
        }

        .nav-pills .nav-link {
            border-radius: 15px;
            font-weight: 700;
            padding: 12px 25px;
            transition: all 0.3s;
            color: #6B7280;
        }

        .nav-pills .nav-link.active {
            background: linear-gradient(135deg, #7C3AED, #6D28D9);
            box-shadow: 0 5px 20px rgba(124, 58, 237, 0.4);
            transform: translateY(-2px);
        }

        .form-control, .form-select {
            border-radius: 12px;
            border: 2px solid #E5E7EB;
            padding: 12px 18px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-control:focus, .form-select:focus {
            border-color: #7C3AED;
            box-shadow: 0 0 0 5px rgba(124, 58, 237, 0.1);
            outline: none;
        }

        .alert {
            border-radius: 15px;
            border: none;
            padding: 15px 20px;
        }

        .alert-info {
            background: linear-gradient(135deg, #E0E7FF, #DBEAFE);
            color: #1E40AF;
            border-left: 5px solid #3B82F6;
        }

        /* ===== BUTTONS ===== */
        .btn {
            border-radius: 12px;
            padding: 12px 30px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn i {
            font-size: 1.2rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            box-shadow: 0 5px 20px rgba(124, 58, 237, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(124, 58, 237, 0.5);
            color: #fff;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #059669);
            color: #fff;
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.5);
            color: #fff;
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 3px solid var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: #fff;
        }

        .btn-secondary {
            background: #6B7280;
            color: #fff;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #DC2626);
            color: #fff;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 0.85rem;
        }

        /* ===== APP LAYOUT ===== */
        #app {
            display: none;
        }

        .sidebar {
            width: 320px;
            background: var(--bg-sidebar);
            color: #fff;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 4px 0 25px rgba(0, 0, 0, 0.2);
        }

        .sidebar::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        .sidebar-logo {
            padding: 40px 30px;
            text-align: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-bottom: 5px solid var(--accent);
        }

        .sidebar-logo h1 {
            font-size: 3rem;
            font-weight: 900;
            letter-spacing: 5px;
            margin: 0;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
        }

        .sidebar-logo p {
            font-size: 1.2rem;
            opacity: 0.95;
            margin: 10px 0 0 0;
            letter-spacing: 3px;
            font-weight: 300;
        }

        .sidebar-menu {
            list-style: none;
            padding: 30px 0;
        }

        .sidebar-menu li a {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 18px 30px;
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            transition: all 0.3s;
            border-left: 5px solid transparent;
            font-weight: 500;
            font-size: 1.05rem;
        }

        .sidebar-menu li a i {
            font-size: 1.5rem;
            width: 30px;
        }

        .sidebar-menu li a:hover {
            background: var(--bg-sidebar-hover);
            color: #fff;
            border-left-color: var(--accent);
            padding-left: 38px;
        }

        .sidebar-menu li a.active {
            background: var(--bg-sidebar-hover);
            color: #fff;
            border-left-color: var(--primary);
            font-weight: 700;
        }

        .theme-toggle {
            padding: 15px 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .theme-toggle button {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .theme-toggle button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            margin-left: 320px;
            padding: 40px 50px;
            min-height: 100vh;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page-header {
            margin-bottom: 40px;
            padding-bottom: 25px;
            border-bottom: 3px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* ===== CARDS ===== */
        .stat-card {
            background: var(--bg-card);
            border-radius: 22px;
            padding: 35px;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--border-color);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary);
        }

        .stat-card .icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.3);
        }

        .stat-card h3 {
            font-size: 3.5rem;
            font-weight: 900;
            margin: 15px 0 10px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-card p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            font-weight: 700;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card {
            background: var(--bg-card);
            border-radius: 22px;
            box-shadow: var(--shadow);
            margin-bottom: 35px;
            overflow: hidden;
            transition: all 0.3s;
            border: 2px solid var(--border-color);
        }

        .card:hover {
            box-shadow: var(--shadow-hover);
        }

        .card-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            padding: 25px 35px;
            font-weight: 800;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card-body {
            padding: 35px;
        }

        /* ===== FORMS ===== */
        .form-row {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .form-row .col {
            flex: 1;
            min-width: 250px;
        }

        label {
            display: block;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-primary);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input:not([type="checkbox"]):not([type="radio"]), 
        select, 
        textarea {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border-color);
            border-radius: 14px;
            font-size: 1rem;
            background: var(--bg-card);
            color: var(--text-primary);
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 5px rgba(124, 58, 237, 0.1);
            transform: translateY(-2px);
        }

        input[readonly] {
            background: var(--bg-main);
            cursor: not-allowed;
        }

        /* ===== AUTOCOMPLETE ===== */
        .autocomplete-container {
            position: relative;
        }

        .autocomplete-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 14px;
            margin-top: 5px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: var(--shadow);
            display: none;
        }

        .autocomplete-results.show {
            display: block;
        }

        .autocomplete-item {
            padding: 12px 18px;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 1px solid var(--border-color);
        }

        .autocomplete-item:last-child {
            border-bottom: none;
        }

        .autocomplete-item:hover {
            background: var(--bg-main);
            color: var(--primary);
        }

        .autocomplete-item strong {
            color: var(--primary);
        }

        /* ===== TABLES ===== */
        .table-responsive {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1rem;
        }

        table thead th {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            padding: 20px 18px;
            text-align: left;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.95rem;
        }

        table tbody tr {
            border-bottom: 2px solid var(--border-color);
            transition: all 0.2s;
        }

        table tbody tr:hover {
            background: var(--bg-main);
            transform: scale(1.01);
        }

        table tbody td {
            padding: 20px 18px;
            vertical-align: middle;
            color: var(--text-primary);
        }

        table tfoot th {
            background: var(--bg-main);
            padding: 20px 18px;
            font-weight: 800;
            border-top: 4px solid var(--primary);
            color: var(--text-primary);
        }

        /* ===== BADGES ===== */
        .badge {
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 800;
            font-size: 0.9rem;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge.success {
            background: linear-gradient(135deg, var(--success), #059669);
            color: #fff;
        }

        .badge.warning {
            background: linear-gradient(135deg, var(--warning), #F59E0B);
            color: #000;
        }

        .badge.danger {
            background: linear-gradient(135deg, var(--danger), #DC2626);
            color: #fff;
        }

        .badge.info {
            background: linear-gradient(135deg, var(--info), #2563EB);
            color: #fff;
        }

        /* ===== TOTAL BOX ===== */
        .total-box {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: #fff;
            padding: 40px;
            border-radius: 22px;
            margin: 30px 0;
            box-shadow: 0 15px 40px rgba(124, 58, 237, 0.4);
        }

        .total-box h3 {
            font-size: 3.5rem;
            font-weight: 900;
            margin: 0;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
        }

        .total-box p {
            font-size: 1.3rem;
            margin: 10px 0 0;
            opacity: 0.95;
        }

        /* ===== UPLOAD AREA ===== */
        .upload-area {
            border: 3px dashed var(--border-color);
            border-radius: 20px;
            padding: 60px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: var(--bg-main);
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: var(--bg-card);
            transform: translateY(-5px);
        }

        .upload-area i {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        /* ===== FILA ITEM ===== */
        .fila-item {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }

        .fila-item:hover {
            transform: translateX(5px);
            border-color: var(--primary);
            box-shadow: var(--shadow);
        }

        .fila-item.atendendo {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.05);
        }

        .posicao-badge {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 900;
        }

        /* ===== STATUS INDICATOR ===== */
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .status-indicator.online {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .status-indicator.offline {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .status-indicator i {
            font-size: 1.2rem;
        }

        /* ===== PRICING CARDS ===== */
        .pricing-card {
            background: var(--bg-card);
            border-radius: 22px;
            padding: 40px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            border: 3px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .pricing-card.featured {
            border-color: var(--accent);
            transform: scale(1.05);
        }

        .pricing-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .pricing-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: var(--shadow-hover);
        }

        .pricing-card h3 {
            font-size: 2rem;
            font-weight: 900;
            color: var(--text-primary);
            margin-bottom: 15px;
        }

        .pricing-card .price {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
        }

        .pricing-card .period {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 30px;
        }

        .pricing-card ul {
            list-style: none;
            padding: 0;
            margin: 30px 0;
            text-align: left;
        }

        .pricing-card ul li {
            padding: 12px 0;
            color: var(--text-primary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pricing-card ul li i {
            color: var(--success);
            font-size: 1.2rem;
        }

        /* ===== UTILITIES ===== */
        .text-center { text-align: center; }
        .text-end { text-align: right; }
        .text-muted { color: var(--text-muted); }
        .w-100 { width: 100%; }
        .mb-3 { margin-bottom: 1rem; }
        .mb-4 { margin-bottom: 1.5rem; }
        .mb-5 { margin-bottom: 3rem; }
        .mt-3 { margin-top: 1rem; }
        .mt-4 { margin-top: 1.5rem; }

        .row { 
            display: flex; 
            flex-wrap: wrap; 
            margin: 0 -15px; 
        }
        
        .row.g-4 > * { 
            padding: 0 15px; 
            margin-bottom: 30px; 
        }

        [class^="col-"] { 
            padding: 0 15px; 
        }

        .col-lg-3, .col-md-6, .col-md-4, .col-md-3, .col-md-8, .col-12 { 
            flex: 0 0 auto; 
        }

        .col-12 { width: 100%; }

        @media (min-width: 768px) {
            .col-md-6 { width: 50%; }
            .col-md-4 { width: 33.333%; }
            .col-md-3 { width: 25%; }
            .col-md-8 { width: 66.666%; }
        }

        @media (min-width: 992px) {
            .col-lg-3 { width: 25%; }
        }

        /* ===== SCROLLBAR ===== */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-main);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-320px);
            }
            .main-content {
                margin-left: 0;
                padding: 20px;
            }
            .page-header h1 {
                font-size: 2rem;
            }
        }

        /* ===== MODAL CUSTOM ===== */
        .modal-content {
            background: var(--bg-card);
            border-radius: 20px;
            border: none;
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #fff;
            border-radius: 20px 20px 0 0;
            border: none;
        }

        .modal-body {
            padding: 30px;
        }

        .modal-footer {
            border-top: 2px solid var(--border-color);
            padding: 20px 30px;
        }

        .btn-close-white {
            filter: brightness(0) invert(1);
        }
    </style>
</head>
<body>

<!-- ===== AUTH SCREEN ===== -->
<div id="authScreen" class="auth-screen">
    <div class="auth-box">
        <div class="auth-logo">
            <div class="logo-icon">üå≥</div>
            <h2>BIOMA</h2>
            <p>Uberaba - Sistema v2.5</p>
        </div>

        <ul class="nav nav-pills nav-fill mb-4">
            <li class="nav-item">
                <button class="nav-link active" id="loginTab" onclick="switchTab('login')">
                    <i class="bi bi-box-arrow-in-right"></i> Login
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" id="registerTab" onclick="switchTab('register')">
                    <i class="bi bi-person-plus"></i> Cadastro
                </button>
            </li>
        </ul>

        <div id="loginForm">
            <form onsubmit="return handleLogin(event)">
                <div class="mb-3">
                    <label>Usu√°rio ou E-mail</label>
                    <input type="text" class="form-control" id="loginUsername" required autocomplete="username">
                </div>
                <div class="mb-3">
                    <label>Senha</label>
                    <input type="password" class="form-control" id="loginPassword" required autocomplete="current-password">
                </div>
                <div class="alert alert-info">
                    <strong>üîë Acesso Padr√£o:</strong><br>
                    Usu√°rio: <code>admin</code><br>
                    Senha: <code>admin123</code>
                </div>
                <button type="submit" class="btn btn-primary w-100">
                    <i class="bi bi-box-arrow-in-right"></i> Entrar no Sistema
                </button>
            </form>
        </div>

        <div id="registerForm" style="display:none;">
            <form onsubmit="return handleRegister(event)">
                <div class="mb-3">
                    <label>Nome Completo</label>
                    <input type="text" class="form-control" id="registerName" required>
                </div>
                <div class="mb-3">
                    <label>Usu√°rio</label>
                    <input type="text" class="form-control" id="registerUsername" required autocomplete="username">
                </div>
                <div class="mb-3">
                    <label>E-mail</label>
                    <input type="email" class="form-control" id="registerEmail" required autocomplete="email">
                </div>
                <div class="mb-3">
                    <label>Senha</label>
                    <input type="password" class="form-control" id="registerPassword" required minlength="6" autocomplete="new-password">
                </div>
                <button type="submit" class="btn btn-primary w-100">
                    <i class="bi bi-person-plus"></i> Criar Conta Gr√°tis
                </button>
            </form>
        </div>
    </div>
</div>

<!-- ===== APLICA√á√ÉO PRINCIPAL ===== -->
<div id="app">
    <nav class="sidebar">
        <div class="sidebar-logo">
            <h1>BIOMA</h1>
            <p>Uberaba</p>
        </div>

        <ul class="sidebar-menu">
            <li><a href="#" onclick="goTo('dashboard')" class="active" id="menu-dashboard">
                <i class="bi bi-speedometer2"></i> Dashboard
            </a></li>
            <li><a href="#" onclick="goTo('orcamento')" id="menu-orcamento">
                <i class="bi bi-file-earmark-text"></i> Novo Or√ßamento
            </a></li>
            <li><a href="#" onclick="goTo('fila')" id="menu-fila">
                <i class="bi bi-people-fill"></i> Fila Atendimento
            </a></li>
            <li><a href="#" onclick="goTo('consultar')" id="menu-consultar">
                <i class="bi bi-search"></i> Consultar
            </a></li>
            <li><a href="#" onclick="goTo('contratos')" id="menu-contratos">
                <i class="bi bi-file-earmark-check"></i> Contratos
            </a></li>
            <li><a href="#" onclick="goTo('clube')" id="menu-clube">
                <i class="bi bi-award"></i> Clube BIOMA
            </a></li>
            <li><a href="#" onclick="goTo('clientes')" id="menu-clientes">
                <i class="bi bi-people"></i> Clientes
            </a></li>
            <li><a href="#" onclick="goTo('profissionais')" id="menu-profissionais">
                <i class="bi bi-person-workspace"></i> Profissionais
            </a></li>
            <li><a href="#" onclick="goTo('servicos')" id="menu-servicos">
                <i class="bi bi-scissors"></i> Servi√ßos
            </a></li>
            <li><a href="#" onclick="goTo('produtos')" id="menu-produtos">
                <i class="bi bi-box-seam"></i> Produtos
            </a></li>
            <li><a href="#" onclick="goTo('importar')" id="menu-importar">
                <i class="bi bi-cloud-upload"></i> Importar Dados
            </a></li>
            <li><a href="#" onclick="goTo('sistema')" id="menu-sistema">
                <i class="bi bi-activity"></i> Status Sistema
            </a></li>
            <li><a href="#" onclick="goTo('configuracoes')" id="menu-configuracoes">
                <i class="bi bi-gear"></i> Configura√ß√µes
            </a></li>
            <li><a href="#" onclick="doLogout()">
                <i class="bi bi-box-arrow-right"></i> Sair
            </a></li>
        </ul>

        <div class="theme-toggle">
            <button onclick="toggleTheme()">
                <i class="bi bi-moon-stars-fill" id="themeIcon"></i>
                <span id="themeText">Modo Escuro</span>
            </button>
        </div>
    </nav>

    <div class="main-content">
        
        <!-- ===== DASHBOARD ===== -->
        <div id="section-dashboard" class="content-section active">
            <div class="page-header">
                <h1><i class="bi bi-speedometer2"></i> Dashboard</h1>
            </div>

            <div class="row g-4 mb-5">
                <div class="col-lg-3 col-md-6">
                    <div class="stat-card">
                        <div class="icon"><i class="bi bi-file-earmark-text"></i></div>
                        <h3 id="dashOrcamentos">0</h3>
                        <p>Or√ßamentos</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="stat-card">
                        <div class="icon"><i class="bi bi-people"></i></div>
                        <h3 id="dashClientes">0</h3>
                        <p>Clientes</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="stat-card">
                        <div class="icon"><i class="bi bi-scissors"></i></div>
                        <h3 id="dashServicos">0</h3>
                        <p>Servi√ßos</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="stat-card">
                        <div class="icon"><i class="bi bi-currency-dollar"></i></div>
                        <h3 id="dashFaturamento">R$ 0</h3>
                        <p>Faturamento</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-clock-history"></i> √öltimos Or√ßamentos
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>N¬∫</th>
                                    <th>Data</th>
                                    <th>Cliente</th>
                                    <th>Valor</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="ultimosOrcamentosBody">
                                <tr><td colspan="5" class="text-center text-muted">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== NOVO OR√áAMENTO ===== -->
        <div id="section-orcamento" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-file-earmark-plus"></i> Novo Or√ßamento</h1>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-person-badge"></i> Dados do Cliente
                </div>
                <div class="card-body">
                    <div class="form-row">
                        <div class="col autocomplete-container">
                            <label>CPF *</label>
                            <input type="text" id="orcCPF" placeholder="Digite o CPF..." maxlength="14">
                            <div class="autocomplete-results" id="cpfResults"></div>
                        </div>
                        <div class="col">
                            <label>Nome Completo *</label>
                            <input type="text" id="orcNomeCliente" placeholder="Nome do cliente">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col">
                            <label>E-mail</label>
                            <input type="email" id="orcEmail" placeholder="email@exemplo.com">
                        </div>
                        <div class="col">
                            <label>Telefone (com DDD)</label>
                            <input type="text" id="orcTelefone" placeholder="(34) 99999-9999">
                        </div>
                    </div>
                    <button class="btn btn-outline" onclick="limparCliente()">
                        <i class="bi bi-x-circle"></i> Limpar Dados
                    </button>
                </div>
            </div>

            <h2 style="margin: 40px 0 20px; color: var(--text-primary); padding-left: 20px; border-left: 6px solid var(--primary);">
                <i class="bi bi-scissors"></i> SERVI√áOS
            </h2>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-plus-circle"></i> Adicionar Servi√ßo
                </div>
                <div class="card-body">
                    <div class="form-row">
                        <div class="col autocomplete-container">
                            <label>Buscar Servi√ßo</label>
                            <input type="text" id="buscaServico" placeholder="Digite para buscar...">
                            <div class="autocomplete-results" id="servicoResults"></div>
                        </div>
                        <div class="col">
                            <label>Tamanho</label>
                            <select id="servicoTamanho">
                                <option value="">Selecione...</option>
                            </select>
                        </div>
                        <div class="col">
                            <label>Qtd</label>
                            <input type="number" id="servicoQtd" value="1" min="1">
                        </div>
                        <div class="col">
                            <label>Pre√ßo</label>
                            <input type="number" id="servicoPreco" step="0.01">
                        </div>
                        <div class="col">
                            <label>Desc %</label>
                            <input type="number" id="servicoDesconto" value="0" min="0" max="100">
                        </div>
                        <div class="col">
                            <label>&nbsp;</label>
                            <button class="btn btn-primary w-100" onclick="addServico()">
                                <i class="bi bi-plus"></i> Add
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-list-check"></i> Servi√ßos Adicionados
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Servi√ßo</th>
                                    <th>Tamanho</th>
                                    <th>Qtd</th>
                                    <th>Pre√ßo Unit.</th>
                                    <th>Desc %</th>
                                    <th>Total</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="servicosBody">
                                <tr><td colspan="7" class="text-center text-muted">Nenhum servi√ßo adicionado</td></tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th colspan="5" class="text-end">SUBTOTAL</th>
                                    <th id="subtotalServicos" colspan="2">R$ 0,00</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>

            <h2 style="margin: 40px 0 20px; color: var(--text-primary); padding-left: 20px; border-left: 6px solid var(--primary);">
                <i class="bi bi-box-seam"></i> PRODUTOS
            </h2>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-plus-circle"></i> Adicionar Produto
                </div>
                <div class="card-body">
                    <div class="form-row">
                        <div class="col autocomplete-container">
                            <label>Buscar Produto</label>
                            <input type="text" id="buscaProduto" placeholder="Digite para buscar...">
                            <div class="autocomplete-results" id="produtoResults"></div>
                        </div>
                        <div class="col">
                            <label>Qtd</label>
                            <input type="number" id="produtoQtd" value="1" min="1">
                        </div>
                        <div class="col">
                            <label>Pre√ßo</label>
                            <input type="number" id="produtoPreco" step="0.01">
                        </div>
                        <div class="col">
                            <label>Desc %</label>
                            <input type="number" id="produtoDesconto" value="0" min="0" max="100">
                        </div>
                        <div class="col">
                            <label>&nbsp;</label>
                            <button class="btn btn-primary w-100" onclick="addProduto()">
                                <i class="bi bi-plus"></i> Add
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-list-check"></i> Produtos Adicionados
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Produto</th>
                                    <th>Marca</th>
                                    <th>SKU</th>
                                    <th>Qtd</th>
                                    <th>Pre√ßo Unit.</th>
                                    <th>Desc %</th>
                                    <th>Total</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="produtosBody">
                                <tr><td colspan="8" class="text-center text-muted">Nenhum produto adicionado</td></tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th colspan="6" class="text-end">SUBTOTAL</th>
                                    <th id="subtotalProdutos" colspan="2">R$ 0,00</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-calculator"></i> Resumo e Pagamento
                </div>
                <div class="card-body">
                    <div class="form-row">
                        <div class="col">
                            <label>Desconto Global %</label>
                            <input type="number" id="descontoGlobal" value="0" min="0" max="100" onchange="calcularTotais()">
                        </div>
                        <div class="col">
                            <label>Cashback %</label>
                            <input type="number" id="cashbackPerc" value="0" min="0" max="100" onchange="calcularTotais()">
                        </div>
                        <div class="col">
                            <label>Forma de Pagamento</label>
                            <select id="pagamento">
                                <option>Pix</option>
                                <option>D√©bito</option>
                                <option>Cr√©dito √† Vista</option>
                                <option>Cr√©dito Parcelado</option>
                                <option>Dinheiro</option>
                            </select>
                        </div>
                    </div>

                    <div class="total-box">
                        <div class="row align-items-center">
                            <div class="col-md-6">
                                <h3 id="totalFinal">R$ 0,00</h3>
                                <p>TOTAL</p>
                            </div>
                            <div class="col-md-6 text-end">
                                <p id="cashbackValor" style="font-size: 1.5rem; margin: 0; font-weight: 700;">
                                    üéÅ Cashback: R$ 0,00
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-4">
                        <button class="btn btn-secondary" onclick="cancelarOrc()">
                            <i class="bi bi-x-circle"></i> Cancelar
                        </button>
                        <button class="btn btn-outline" onclick="salvarOrc('Pendente')">
                            <i class="bi bi-save"></i> Salvar Rascunho
                        </button>
                        <button class="btn btn-success" onclick="salvarOrc('Aprovado')">
                            <i class="bi bi-check-circle"></i> Gerar Contrato e Enviar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== FILA DE ATENDIMENTO ===== -->
        <div id="section-fila" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-people-fill"></i> Fila de Atendimento</h1>
                <button class="btn btn-primary" onclick="showModalFila()">
                    <i class="bi bi-plus-circle"></i> Adicionar √† Fila
                </button>
            </div>

            <div class="alert alert-info">
                <i class="bi bi-info-circle-fill"></i>
                <strong>Sistema de Notifica√ß√µes Ativo:</strong> Clientes receber√£o SMS quando entrarem na fila e quando for a vez deles.
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-list-ol"></i> Fila Atual (<span id="totalFila">0</span> pessoas)
                </div>
                <div class="card-body" id="filaContainer">
                    <p class="text-center text-muted">Carregando fila...</p>
                </div>
            </div>
        </div>

        <!-- ===== CONSULTAR OR√áAMENTOS ===== -->
        <div id="section-consultar" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-search"></i> Consultar Or√ßamentos</h1>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-list-ul"></i> Todos os Or√ßamentos
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>N¬∫</th>
                                    <th>Data</th>
                                    <th>Cliente</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="consultaBody">
                                <tr><td colspan="6" class="text-center text-muted">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== CONTRATOS ===== -->
        <div id="section-contratos" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-file-earmark-check"></i> Contratos</h1>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-file-check-fill"></i> Contratos Aprovados
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>N¬∫</th>
                                    <th>Data</th>
                                    <th>Cliente</th>
                                    <th>Total</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="contratosBody">
                                <tr><td colspan="5" class="text-center text-muted">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== CLUBE BIOMA ===== -->
        <div id="section-clube" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-award"></i> Clube BIOMA - Fideliza√ß√£o</h1>
            </div>

            <div class="row g-4">
                <div class="col-md-4">
                    <div class="pricing-card">
                        <h3>ü•â BRONZE</h3>
                        <div class="price">R$ 100</div>
                        <div class="period">por m√™s</div>
                        <ul>
                            <li><i class="bi bi-check-circle-fill"></i> 1 corte por m√™s</li>
                            <li><i class="bi bi-check-circle-fill"></i> 1 hidrata√ß√£o por m√™s</li>
                            <li><i class="bi bi-check-circle-fill"></i> 5% de desconto em outros servi√ßos</li>
                            <li><i class="bi bi-check-circle-fill"></i> 5% de cashback</li>
                        </ul>
                        <button class="btn btn-outline w-100">Assinar Bronze</button>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="pricing-card featured">
                        <h3>ü•à PRATA</h3>
                        <div class="price">R$ 540</div>
                        <div class="period">semestral</div>
                        <ul>
                            <li><i class="bi bi-check-circle-fill"></i> 6 cortes semestrais</li>
                            <li><i class="bi bi-check-circle-fill"></i> 6 hidrata√ß√µes semestrais</li>
                            <li><i class="bi bi-check-circle-fill"></i> 10% de desconto em outros servi√ßos</li>
                            <li><i class="bi bi-check-circle-fill"></i> 10% de cashback</li>
                            <li><i class="bi bi-check-circle-fill"></i> Prioridade na fila</li>
                        </ul>
                        <button class="btn btn-primary w-100">Assinar Prata</button>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="pricing-card">
                        <h3>ü•á OURO</h3>
                        <div class="price">R$ 1000</div>
                        <div class="period">anual</div>
                        <ul>
                            <li><i class="bi bi-check-circle-fill"></i> 12 cortes anuais</li>
                            <li><i class="bi bi-check-circle-fill"></i> 12 hidrata√ß√µes anuais</li>
                            <li><i class="bi bi-check-circle-fill"></i> 4 tratamentos especiais</li>
                            <li><i class="bi bi-check-circle-fill"></i> 15% de desconto em outros servi√ßos</li>
                            <li><i class="bi bi-check-circle-fill"></i> 15% de cashback</li>
                            <li><i class="bi bi-check-circle-fill"></i> Atendimento VIP</li>
                        </ul>
                        <button class="btn btn-success w-100">Assinar Ouro</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== CLIENTES ===== -->
        <div id="section-clientes" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-people"></i> Clientes</h1>
                <button class="btn btn-primary" onclick="showModalCliente()">
                    <i class="bi bi-person-plus"></i> Novo Cliente
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-people-fill"></i> Lista de Clientes
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>CPF</th>
                                    <th>E-mail</th>
                                    <th>Telefone</th>
                                    <th>Cidade</th>
                                </tr>
                            </thead>
                            <tbody id="clientesBody">
                                <tr><td colspan="5" class="text-center text-muted">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== PROFISSIONAIS ===== -->
        <div id="section-profissionais" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-person-workspace"></i> Profissionais</h1>
                <button class="btn btn-primary" onclick="showModalProfissional()">
                    <i class="bi bi-person-plus"></i> Novo Profissional
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-people-fill"></i> Equipe BIOMA
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>CPF</th>
                                    <th>Especialidade</th>
                                    <th>Comiss√£o</th>
                                    <th>Contato</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="profissionaisBody">
                                <tr><td colspan="6" class="text-center text-muted">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== SERVI√áOS ===== -->
        <div id="section-servicos" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-scissors"></i> Servi√ßos</h1>
                <button class="btn btn-primary" onclick="showModalServico()">
                    <i class="bi bi-plus-circle"></i> Novo Servi√ßo
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-list-ul"></i> Cat√°logo de Servi√ßos
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Tamanho</th>
                                    <th>Pre√ßo</th>
                                    <th>Categoria</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="servicosListBody">
                                <tr><td colspan="5" class="text-center text-muted">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== PRODUTOS ===== -->
        <div id="section-produtos" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-box-seam"></i> Produtos</h1>
                <button class="btn btn-primary" onclick="showModalProduto()">
                    <i class="bi bi-plus-circle"></i> Novo Produto
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-box-fill"></i> Estoque de Produtos
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Marca</th>
                                    <th>SKU</th>
                                    <th>Pre√ßo</th>
                                    <th>Custo</th>
                                    <th>Estoque</th>
                                    <th>Categoria</th>
                                </tr>
                            </thead>
                            <tbody id="produtosListBody">
                                <tr><td colspan="7" class="text-center text-muted">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== IMPORTAR DADOS ===== -->
        <div id="section-importar" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-cloud-upload"></i> Importar Dados</h1>
            </div>

            <div class="alert alert-info">
                <i class="bi bi-lightbulb-fill"></i>
                <strong>Dica:</strong> O sistema identifica automaticamente as colunas do CSV/XLSX. Aceita diferentes formatos e encodings.
            </div>

            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <i class="bi bi-box-seam"></i> Importar Produtos
                        </div>
                        <div class="card-body">
                            <div class="upload-area" onclick="document.getElementById('uploadProdutos').click()">
                                <i class="bi bi-cloud-upload"></i>
                                <h4>Clique para selecionar arquivo</h4>
                                <p class="text-muted">CSV ou XLSX (m√°x. 16MB)</p>
                                <input type="file" id="uploadProdutos" accept=".csv,.xlsx,.xls" style="display:none;" onchange="handleUpload(this, 'produtos')">
                            </div>
                            
                            <div class="mt-3">
                                <a href="/api/template/download/produtos" class="btn btn-outline w-100">
                                    <i class="bi bi-download"></i> Baixar Template
                                </a>
                            </div>

                            <div class="mt-3">
                                <h6><i class="bi bi-info-circle"></i> Colunas (flex√≠veis):</h6>
                                <ul class="small">
                                    <li><code>nome/produto</code> - Nome *</li>
                                    <li><code>marca/brand</code> - Marca</li>
                                    <li><code>preco/pre√ßo/price</code> - Pre√ßo *</li>
                                    <li><code>sku/codigo</code> - SKU</li>
                                    <li><code>custo/cost</code> - Custo</li>
                                    <li><code>estoque/qtd</code> - Quantidade</li>
                                    <li><code>categoria/category</code> - Categoria</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <i class="bi bi-scissors"></i> Importar Servi√ßos
                        </div>
                        <div class="card-body">
                            <div class="upload-area" onclick="document.getElementById('uploadServicos').click()">
                                <i class="bi bi-cloud-upload"></i>
                                <h4>Clique para selecionar arquivo</h4>
                                <p class="text-muted">CSV ou XLSX (m√°x. 16MB)</p>
                                <input type="file" id="uploadServicos" accept=".csv,.xlsx,.xls" style="display:none;" onchange="handleUpload(this, 'servicos')">
                            </div>
                            
                            <div class="mt-3">
                                <a href="/api/template/download/servicos" class="btn btn-outline w-100">
                                    <i class="bi bi-download"></i> Baixar Template
                                </a>
                            </div>

                            <div class="mt-3">
                                <h6><i class="bi bi-info-circle"></i> Colunas (flex√≠veis):</h6>
                                <ul class="small">
                                    <li><code>nome/servico</code> - Nome *</li>
                                    <li><code>categoria/category</code> - Categoria</li>
                                    <li><code>kids/infantil</code> - Pre√ßo Kids</li>
                                    <li><code>masculino/male</code> - Pre√ßo Masc</li>
                                    <li><code>curto/short</code> - Pre√ßo Curto</li>
                                    <li><code>medio/m√©dio/medium</code> - Pre√ßo M√©dio</li>
                                    <li><code>longo/long</code> - Pre√ßo Longo</li>
                                    <li><code>extra_longo/xl</code> - Pre√ßo XL</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== STATUS DO SISTEMA ===== -->
        <div id="section-sistema" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-activity"></i> Status do Sistema</h1>
                <button class="btn btn-outline" onclick="verificarStatus()">
                    <i class="bi bi-arrow-clockwise"></i> Atualizar
                </button>
            </div>

            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <i class="bi bi-database"></i> MongoDB
                        </div>
                        <div class="card-body text-center">
                            <div id="mongoStatus" class="status-indicator online">
                                <i class="bi bi-check-circle-fill"></i>
                                <span>Verificando...</span>
                            </div>
                            <p class="mt-3 text-muted" id="mongoMessage">Aguardando verifica√ß√£o...</p>
                            <small id="mongoLastCheck" class="text-muted">√öltima verifica√ß√£o: --</small>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <i class="bi bi-envelope"></i> MailerSend (E-mail)
                        </div>
                        <div class="card-body text-center">
                            <div id="emailStatus" class="status-indicator online">
                                <i class="bi bi-check-circle-fill"></i>
                                <span>Verificando...</span>
                            </div>
                            <p class="mt-3 text-muted" id="emailMessage">Aguardando verifica√ß√£o...</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <i class="bi bi-phone"></i> MailerSend (SMS)
                        </div>
                        <div class="card-body text-center">
                            <div id="smsStatus" class="status-indicator online">
                                <i class="bi bi-check-circle-fill"></i>
                                <span>Verificando...</span>
                            </div>
                            <p class="mt-3 text-muted" id="smsMessage">Aguardando verifica√ß√£o...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-header">
                    <i class="bi bi-gear"></i> Informa√ß√µes do Sistema
                </div>
                <div class="card-body">
                    <table class="table">
                        <tr>
                            <td><strong>Vers√£o:</strong></td>
                            <td>BIOMA Ultra Profissional v2.5</td>
                        </tr>
                        <tr>
                            <td><strong>Data/Hora Servidor:</strong></td>
                            <td id="serverTime">2025-10-05 05:09:57 UTC</td>
                        </tr>
                        <tr>
                            <td><strong>Usu√°rio Logado:</strong></td>
                            <td id="currentUserInfo">juanmarco1999</td>
                        </tr>
                        <tr>
                            <td><strong>Deploy:</strong></td>
                            <td>Render.com (Produ√ß√£o)</td>
                        </tr>
                        <tr>
                            <td><strong>URL:</strong></td>
                            <td><a href="https://bioma-system2.onrender.com" target="_blank">bioma-system2.onrender.com</a></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- ===== CONFIGURA√á√ïES ===== -->
        <div id="section-configuracoes" class="content-section">
            <div class="page-header">
                <h1><i class="bi bi-gear"></i> Configura√ß√µes</h1>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-building"></i> Dados da Empresa
                </div>
                <div class="card-body">
                    <div class="form-row">
                        <div class="col">
                            <label>Nome da Empresa</label>
                            <input type="text" id="cfgNome" value="BIOMA UBERABA">
                        </div>
                        <div class="col">
                            <label>CNPJ</label>
                            <input type="text" id="cfgCNPJ" value="49.470.937/0001-10">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col">
                            <label>Endere√ßo Completo</label>
                            <input type="text" id="cfgEndereco" value="Av. Santos Dumont 3110 - Santa Maria - Uberaba/MG - CEP 38050-400">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col">
                            <label>Telefone</label>
                            <input type="text" id="cfgTelefone" value="34 99235-5890">
                        </div>
                        <div class="col">
                            <label>E-mail</label>
                            <input type="email" id="cfgEmail" value="biomauberaba@gmail.com">
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="salvarConfig()">
                        <i class="bi bi-save"></i> Salvar Configura√ß√µes
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <i class="bi bi-shield-lock"></i> Seguran√ßa
                </div>
                <div class="card-body">
                    <div class="alert alert-success">
                        <i class="bi bi-check-circle-fill"></i>
                        <strong>Sistema Seguro:</strong>
                        <ul class="mb-0 mt-2">
                            <li>‚úÖ HTTPS/SSL Ativo (Certificado v√°lido)</li>
                            <li>‚úÖ Senhas criptografadas com bcrypt</li>
                            <li>‚úÖ Session cookies seguros</li>
                            <li>‚úÖ CORS configurado</li>
                            <li>‚úÖ MongoDB com autentica√ß√£o</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- ===== MODALS ===== -->

<!-- Modal: Adicionar √† Fila -->
<div class="modal fade" id="modalFila" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-plus-circle"></i> Adicionar Cliente √† Fila</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label>Nome do Cliente *</label>
                    <input type="text" class="form-control" id="filaNome" placeholder="Nome completo">
                </div>
                <div class="mb-3">
                    <label>Telefone (com DDD) *</label>
                    <input type="text" class="form-control" id="filaTelefone" placeholder="(34) 99999-9999">
                    <small class="text-muted">Ser√° enviado SMS com a posi√ß√£o na fila</small>
                </div>
                <div class="mb-3">
                    <label>Servi√ßo</label>
                    <input type="text" class="form-control" id="filaServico" placeholder="Ex: Corte">
                </div>
                <div class="mb-3">
                    <label>Profissional (Opcional)</label>
                    <select class="form-select" id="filaProfissional">
                        <option value="">Qualquer profissional</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="adicionarFila()">
                    <i class="bi bi-plus"></i> Adicionar √† Fila
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal: Novo Cliente -->
<div class="modal fade" id="modalCliente" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-person-plus"></i> Cadastrar Cliente</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="col">
                        <label>CPF *</label>
                        <input type="text" class="form-control" id="clienteCPF" placeholder="000.000.000-00" maxlength="14">
                    </div>
                    <div class="col">
                        <label>Nome Completo *</label>
                        <input type="text" class="form-control" id="clienteNome" placeholder="Nome completo">
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>RG</label>
                        <input type="text" class="form-control" id="clienteRG" placeholder="00.000.000-0">
                    </div>
                    <div class="col">
                        <label>E-mail</label>
                        <input type="email" class="form-control" id="clienteEmail" placeholder="email@exemplo.com">
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>Telefone</label>
                        <input type="text" class="form-control" id="clienteTelefone" placeholder="(34) 99999-9999">
                    </div>
                    <div class="col">
                        <label>CEP</label>
                        <input type="text" class="form-control" id="clienteCEP" placeholder="00000-000" maxlength="9" onblur="buscarCEP(this.value, 'cliente')">
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>Endere√ßo</label>
                        <input type="text" class="form-control" id="clienteEndereco" placeholder="Rua, n√∫mero">
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>Bairro</label>
                        <input type="text" class="form-control" id="clienteBairro">
                    </div>
                    <div class="col">
                        <label>Cidade</label>
                        <input type="text" class="form-control" id="clienteCidade">
                    </div>
                    <div class="col">
                        <label>Estado</label>
                        <select class="form-select" id="clienteEstado">
                            <option value="">Selecione...</option>
                            <option value="MG">MG</option>
                            <option value="SP">SP</option>
                            <option value="RJ">RJ</option>
                            <option value="GO">GO</option>
                            <option value="DF">DF</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="cadastrarCliente()">
                    <i class="bi bi-save"></i> Cadastrar
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal: Novo Profissional -->
<div class="modal fade" id="modalProfissional" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-person-plus"></i> Cadastrar Profissional</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label>Nome Completo *</label>
                    <input type="text" class="form-control" id="profNome" placeholder="Nome do profissional">
                </div>
                <div class="mb-3">
                    <label>CPF *</label>
                    <input type="text" class="form-control" id="profCPF" placeholder="000.000.000-00" maxlength="14">
                </div>
                <div class="mb-3">
                    <label>E-mail</label>
                    <input type="email" class="form-control" id="profEmail" placeholder="email@exemplo.com">
                </div>
                <div class="mb-3">
                    <label>Telefone</label>
                    <input type="text" class="form-control" id="profTelefone" placeholder="(34) 99999-9999">
                </div>
                <div class="mb-3">
                    <label>Especialidade</label>
                    <input type="text" class="form-control" id="profEspecialidade" placeholder="Ex: Colora√ß√£o, Corte">
                </div>
                <div class="mb-3">
                    <label>Comiss√£o (%)</label>
                    <input type="number" class="form-control" id="profComissao" value="0" min="0" max="100" step="0.1">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="cadastrarProfissional()">
                    <i class="bi bi-save"></i> Cadastrar
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal: Novo Servi√ßo -->
<div class="modal fade" id="modalServico" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-scissors"></i> Cadastrar Servi√ßo</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i> Um servi√ßo ser√° criado com 6 varia√ß√µes de tamanho automaticamente.
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>Nome do Servi√ßo *</label>
                        <input type="text" class="form-control" id="servicoNome" placeholder="Ex: Hidrata√ß√£o">
                    </div>
                    <div class="col">
                        <label>Categoria</label>
                        <input type="text" class="form-control" id="servicoCategoria" placeholder="Ex: Tratamento" value="Servi√ßo">
                    </div>
                </div>
                <h6 class="mt-4 mb-3">Pre√ßos por Tamanho:</h6>
                <div class="form-row">
                    <div class="col">
                        <label>Kids</label>
                        <input type="number" class="form-control" id="servicoPrecoKids" step="0.01" placeholder="0.00">
                    </div>
                    <div class="col">
                        <label>Masculino</label>
                        <input type="number" class="form-control" id="servicoPrecoMasculino" step="0.01" placeholder="0.00">
                    </div>
                    <div class="col">
                        <label>Curto</label>
                        <input type="number" class="form-control" id="servicoPrecoCurto" step="0.01" placeholder="0.00">
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>M√©dio</label>
                        <input type="number" class="form-control" id="servicoPrecoMedio" step="0.01" placeholder="0.00">
                    </div>
                    <div class="col">
                        <label>Longo</label>
                        <input type="number" class="form-control" id="servicoPrecoLongo" step="0.01" placeholder="0.00">
                    </div>
                    <div class="col">
                        <label>Extra Longo</label>
                        <input type="number" class="form-control" id="servicoPrecoExtraLongo" step="0.01" placeholder="0.00">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="cadastrarServico()">
                    <i class="bi bi-save"></i> Cadastrar (6 SKUs)
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal: Novo Produto -->
<div class="modal fade" id="modalProduto" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-box-seam"></i> Cadastrar Produto</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="col">
                        <label>Nome do Produto *</label>
                        <input type="text" class="form-control" id="produtoNome" placeholder="Ex: Shampoo 500ml">
                    </div>
                    <div class="col">
                        <label>Marca</label>
                        <input type="text" class="form-control" id="produtoMarca" placeholder="Ex: L'Or√©al">
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>SKU/C√≥digo</label>
                        <input type="text" class="form-control" id="produtoSKU" placeholder="Ex: SHAMP-500">
                    </div>
                    <div class="col">
                        <label>Categoria</label>
                        <input type="text" class="form-control" id="produtoCategoria" placeholder="Ex: Shampoo" value="Produto">
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label>Pre√ßo de Venda *</label>
                        <input type="number" class="form-control" id="produtoPreco" step="0.01" placeholder="0.00">
                    </div>
                    <div class="col">
                        <label>Custo</label>
                        <input type="number" class="form-control" id="produtoCusto" step="0.01" placeholder="0.00">
                    </div>
                    <div class="col">
                        <label>Estoque</label>
                        <input type="number" class="form-control" id="produtoEstoque" value="0" min="0">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="cadastrarProduto()">
                    <i class="bi bi-save"></i> Cadastrar
                </button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// ===== VARI√ÅVEIS GLOBAIS =====
let currentUser = null;
let currentTheme = 'light';
let orcamento = { servicos: [], produtos: [] };
let servicosDisponiveis = [];
let produtosDisponiveis = [];
let servicoSelecionado = null;
let produtoSelecionado = null;

// ===== INICIALIZA√á√ÉO =====
document.addEventListener('DOMContentLoaded', () => {
    console.log('üöÄ BIOMA v2.5 Iniciado - ' + new Date().toISOString());
    checkAuth();
    initEventListeners();
});

// ===== AUTENTICA√á√ÉO =====
async function checkAuth() {
    try {
        const res = await fetch('/api/current-user', { credentials: 'include' });
        const data = await res.json();
        
        if (data.success && data.user) {
            currentUser = data.user;
            currentTheme = data.user.theme || 'light';
            applyTheme(currentTheme);
            showApp();
        } else {
            showAuth();
        }
    } catch (e) {
        console.error('Erro auth:', e);
        showAuth();
    }
}

function showAuth() {
    document.getElementById('authScreen').style.display = 'flex';
    document.getElementById('app').style.display = 'none';
}

function showApp() {
    document.getElementById('authScreen').style.display = 'none';
    document.getElementById('app').style.display = 'block';
    loadDashboard();
    loadServicosDisponiveis();
    loadProdutosDisponiveis();
}

function switchTab(tab) {
    if (tab === 'login') {
        document.getElementById('loginTab').classList.add('active');
        document.getElementById('registerTab').classList.remove('active');
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('registerForm').style.display = 'none';
    } else {
        document.getElementById('registerTab').classList.add('active');
        document.getElementById('loginTab').classList.remove('active');
        document.getElementById('registerForm').style.display = 'block';
        document.getElementById('loginForm').style.display = 'none';
    }
}

async function handleLogin(e) {
    e.preventDefault();
    
    const username = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value.trim();
    
    try {
        const res = await fetch('/api/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include',
            body: JSON.stringify({ username, password })
        });
        
        const data = await res.json();
        
        if (data.success && data.user) {
            currentUser = data.user;
            currentTheme = data.user.theme || 'light';
            
            Swal.fire({
                icon: 'success',
                title: '‚úÖ Login realizado!',
                text: `Bem-vindo, ${currentUser.name}!`,
                timer: 1500,
                showConfirmButton: false
            });
            
            setTimeout(() => {
                applyTheme(currentTheme);
                showApp();
            }, 500);
        } else {
            Swal.fire('Erro', data.message || 'Credenciais inv√°lidas', 'error');
        }
    } catch (e) {
        Swal.fire('Erro', 'N√£o foi poss√≠vel conectar ao servidor', 'error');
    }
    
    return false;
}

async function handleRegister(e) {
    e.preventDefault();
    
    const name = document.getElementById('registerName').value.trim();
    const username = document.getElementById('registerUsername').value.trim();
    const email = document.getElementById('registerEmail').value.trim();
    const password = document.getElementById('registerPassword').value.trim();
    
    try {
        const res = await fetch('/api/register', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include',
            body: JSON.stringify({ name, username, email, password })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire({
                icon: 'success',
                title: '‚úÖ Conta criada!',
                text: 'Fa√ßa login para continuar.'
            }).then(() => {
                switchTab('login');
                document.getElementById('loginUsername').value = username;
            });
        } else {
            Swal.fire('Erro', data.message || 'N√£o foi poss√≠vel criar conta', 'error');
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro na conex√£o', 'error');
    }
    
    return false;
}

async function doLogout() {
    const result = await Swal.fire({
        title: 'Deseja sair?',
        icon: 'question',
        showCancelButton: true,
        confirmButtonText: 'Sim, sair',
        cancelButtonText: 'Cancelar'
    });
    
    if (result.isConfirmed) {
        await fetch('/api/logout', { method: 'POST', credentials: 'include' });
        Swal.fire({ 
            icon: 'success', 
            title: 'At√© logo!', 
            timer: 1500, 
            showConfirmButton: false 
        });
        setTimeout(() => {
            currentUser = null;
            location.reload();
        }, 500);
    }
}

// ===== TEMA =====
function applyTheme(theme) {
    document.documentElement.setAttribute('data-theme', theme);
    currentTheme = theme;
    
    if (theme === 'dark') {
        document.getElementById('themeIcon').className = 'bi bi-sun-fill';
        document.getElementById('themeText').textContent = 'Modo Claro';
    } else {
        document.getElementById('themeIcon').className = 'bi bi-moon-stars-fill';
        document.getElementById('themeText').textContent = 'Modo Escuro';
    }
}

async function toggleTheme() {
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
    applyTheme(newTheme);
    
    try {
        await fetch('/api/update-theme', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include',
            body: JSON.stringify({ theme: newTheme })
        });
    } catch (e) {
        console.error('Erro salvar tema:', e);
    }
}

// ===== NAVEGA√á√ÉO =====
function goTo(section) {
    console.log('Navegando para:', section);
    
    document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
    document.getElementById('section-' + section).classList.add('active');
    
    document.querySelectorAll('.sidebar-menu a').forEach(a => a.classList.remove('active'));
    const menu = document.getElementById('menu-' + section);
    if (menu) menu.classList.add('active');
    
    if (section === 'dashboard') loadDashboard();
    if (section === 'fila') loadFila();
    if (section === 'consultar') loadConsultar();
    if (section === 'contratos') loadContratos();
    if (section === 'clientes') loadClientes();
    if (section === 'profissionais') loadProfissionais();
    if (section === 'servicos') loadServicosLista();
    if (section === 'produtos') loadProdutosLista();
    if (section === 'sistema') verificarStatus();
}

// ===== DASHBOARD =====
async function loadDashboard() {
    try {
        const res = await fetch('/api/dashboard/stats', { credentials: 'include' });
        const data = await res.json();
        
        if (data.success) {
            document.getElementById('dashOrcamentos').textContent = data.stats.total_orcamentos;
            document.getElementById('dashClientes').textContent = data.stats.total_clientes;
            document.getElementById('dashServicos').textContent = data.stats.total_servicos;
            document.getElementById('dashFaturamento').textContent = 'R$ ' + data.stats.faturamento.toFixed(0);
        }
        
        const orcRes = await fetch('/api/orcamentos', { credentials: 'include' });
        const orcData = await orcRes.json();
        
        if (orcData.success && orcData.orcamentos.length > 0) {
            const html = orcData.orcamentos.slice(0, 10).map(o => `
                <tr>
                    <td><strong>#${o.numero}</strong></td>
                    <td>${new Date(o.created_at).toLocaleDateString('pt-BR')}</td>
                    <td>${o.cliente_nome}</td>
                    <td><strong>R$ ${o.total_final.toFixed(2)}</strong></td>
                    <td><span class="badge ${o.status === 'Aprovado' ? 'success' : 'warning'}">${o.status}</span></td>
                </tr>
            `).join('');
            document.getElementById('ultimosOrcamentosBody').innerHTML = html;
        }
    } catch (e) {
        console.error('Erro dashboard:', e);
    }
}

// ===== AUTOCOMPLETE CLIENTES =====
let cpfTimeout;
const cpfInput = document.getElementById('orcCPF');
if (cpfInput) {
    cpfInput.addEventListener('input', async (e) => {
        clearTimeout(cpfTimeout);
        const termo = e.target.value.trim();
        
        if (termo.length >= 3) {
            cpfTimeout = setTimeout(async () => {
                try {
                    const res = await fetch(`/api/clientes/buscar?termo=${termo}`, { credentials: 'include' });
                    const data = await res.json();
                    
                    if (data.success && data.clientes.length > 0) {
                        const resultsDiv = document.getElementById('cpfResults');
                        const html = data.clientes.map(c => `
                            <div class="autocomplete-item" onclick='selecionarCliente(${JSON.stringify(c).replace(/'/g, "&apos;")})'>
                                <strong>${c.nome}</strong><br>
                                <small>CPF: ${c.cpf} | Tel: ${c.telefone || 'N/A'}</small>
                            </div>
                        `).join('');
                        resultsDiv.innerHTML = html;
                        resultsDiv.classList.add('show');
                    }
                } catch (e) {
                    console.error('Erro buscar cliente:', e);
                }
            }, 300);
        } else {
            document.getElementById('cpfResults').classList.remove('show');
        }
    });
}

function selecionarCliente(cliente) {
    document.getElementById('orcCPF').value = cliente.cpf;
    document.getElementById('orcNomeCliente').value = cliente.nome;
    document.getElementById('orcEmail').value = cliente.email || '';
    document.getElementById('orcTelefone').value = cliente.telefone || '';
    document.getElementById('cpfResults').classList.remove('show');
}

function limparCliente() {
    document.getElementById('orcCPF').value = '';
    document.getElementById('orcNomeCliente').value = '';
    document.getElementById('orcEmail').value = '';
    document.getElementById('orcTelefone').value = '';
}

// ===== AUTOCOMPLETE SERVI√áOS =====
let servicoTimeout;
async function loadServicosDisponiveis() {
    try {
        const res = await fetch('/api/servicos', { credentials: 'include' });
        const data = await res.json();
        if (data.success) servicosDisponiveis = data.servicos;
    } catch (e) {
        console.error('Erro carregar servi√ßos:', e);
    }
}

const buscaServico = document.getElementById('buscaServico');
if (buscaServico) {
    buscaServico.addEventListener('input', async (e) => {
        clearTimeout(servicoTimeout);
        const termo = e.target.value.trim();
        
        if (termo.length >= 2) {
            servicoTimeout = setTimeout(async () => {
                try {
                    const res = await fetch(`/api/servicos/buscar?termo=${termo}`, { credentials: 'include' });
                    const data = await res.json();
                    
                    if (data.success && data.servicos.length > 0) {
                        const resultsDiv = document.getElementById('servicoResults');
                        const html = data.servicos.map(s => `
                            <div class="autocomplete-item" onclick='selecionarServico(${JSON.stringify(s).replace(/'/g, "&apos;")})'>
                                <strong>${s.nome}</strong> - ${s.tamanho}<br>
                                <small>R$ ${s.preco.toFixed(2)}</small>
                            </div>
                        `).join('');
                        resultsDiv.innerHTML = html;
                        resultsDiv.classList.add('show');
                    }
                } catch (e) {
                    console.error('Erro buscar servi√ßo:', e);
                }
            }, 300);
        } else {
            document.getElementById('servicoResults').classList.remove('show');
        }
    });
}

function selecionarServico(servico) {
    servicoSelecionado = servico;
    document.getElementById('buscaServico').value = servico.nome;
    document.getElementById('servicoResults').classList.remove('show');
    
    const tamanhosDisponiveis = servicosDisponiveis
        .filter(s => s.nome === servico.nome)
        .map(s => s.tamanho);
    
    const selectTamanho = document.getElementById('servicoTamanho');
    selectTamanho.innerHTML = '<option value="">Selecione...</option>';
    
    tamanhosDisponiveis.forEach(tam => {
        const opt = document.createElement('option');
        opt.value = tam;
        opt.textContent = tam;
        if (tam === servico.tamanho) opt.selected = true;
        selectTamanho.appendChild(opt);
    });
    
    document.getElementById('servicoPreco').value = servico.preco.toFixed(2);
}

function addServico() {
    if (!servicoSelecionado) {
        Swal.fire('Aten√ß√£o', 'Selecione um servi√ßo', 'warning');
        return;
    }
    
    const tamanho = document.getElementById('servicoTamanho').value;
    const qtd = parseInt(document.getElementById('servicoQtd').value) || 1;
    const precoUnit = parseFloat(document.getElementById('servicoPreco').value) || 0;
    const desconto = parseFloat(document.getElementById('servicoDesconto').value) || 0;
    
    if (!tamanho) {
        Swal.fire('Aten√ß√£o', 'Selecione o tamanho', 'warning');
        return;
    }
    
    const precoComDesconto = precoUnit * (1 - desconto / 100);
    const total = precoComDesconto * qtd;
    
    orcamento.servicos.push({
        nome: servicoSelecionado.nome,
        tamanho: tamanho,
        qtd: qtd,
        preco_unit: precoUnit,
        desconto: desconto,
        total: total
    });
    
    atualizarTabelaServicos();
    calcularTotais();
    
    document.getElementById('buscaServico').value = '';
    document.getElementById('servicoTamanho').innerHTML = '<option value="">Selecione...</option>';
    document.getElementById('servicoPreco').value = '';
    document.getElementById('servicoDesconto').value = '0';
    document.getElementById('servicoQtd').value = '1';
    servicoSelecionado = null;
}

function atualizarTabelaServicos() {
    const tbody = document.getElementById('servicosBody');
    
    if (orcamento.servicos.length === 0) {
        tbody.innerHTML = '<tr><td colspan="7" class="text-center text-muted">Nenhum servi√ßo adicionado</td></tr>';
        return;
    }
    
    const html = orcamento.servicos.map((s, idx) => `
        <tr>
            <td><strong>${s.nome}</strong></td>
            <td><span class="badge info">${s.tamanho}</span></td>
            <td>${s.qtd}</td>
            <td>R$ ${s.preco_unit.toFixed(2)}</td>
            <td>${s.desconto}%</td>
            <td><strong>R$ ${s.total.toFixed(2)}</strong></td>
            <td>
                <button class="btn btn-sm btn-danger" onclick="removeServico(${idx})">
                    <i class="bi bi-trash"></i>
                </button>
            </td>
        </tr>
    `).join('');
    
    tbody.innerHTML = html;
}

function removeServico(idx) {
    orcamento.servicos.splice(idx, 1);
    atualizarTabelaServicos();
    calcularTotais();
}

// ===== AUTOCOMPLETE PRODUTOS =====
let produtoTimeout;
async function loadProdutosDisponiveis() {
    try {
        const res = await fetch('/api/produtos', { credentials: 'include' });
        const data = await res.json();
        if (data.success) produtosDisponiveis = data.produtos;
    } catch (e) {
        console.error('Erro carregar produtos:', e);
    }
}

const buscaProduto = document.getElementById('buscaProduto');
if (buscaProduto) {
    buscaProduto.addEventListener('input', async (e) => {
        clearTimeout(produtoTimeout);
        const termo = e.target.value.trim();
        
        if (termo.length >= 2) {
            produtoTimeout = setTimeout(async () => {
                try {
                    const res = await fetch(`/api/produtos/buscar?termo=${termo}`, { credentials: 'include' });
                    const data = await res.json();
                    
                    if (data.success && data.produtos.length > 0) {
                        const resultsDiv = document.getElementById('produtoResults');
                        const html = data.produtos.map(p => `
                            <div class="autocomplete-item" onclick='selecionarProduto(${JSON.stringify(p).replace(/'/g, "&apos;")})'>
                                <strong>${p.nome}</strong>${p.marca ? ' - ' + p.marca : ''}<br>
                                <small>${p.sku} - R$ ${p.preco.toFixed(2)}</small>
                            </div>
                        `).join('');
                        resultsDiv.innerHTML = html;
                        resultsDiv.classList.add('show');
                    }
                } catch (e) {
                    console.error('Erro buscar produto:', e);
                }
            }, 300);
        } else {
            document.getElementById('produtoResults').classList.remove('show');
        }
    });
}

function selecionarProduto(produto) {
    produtoSelecionado = produto;
    document.getElementById('buscaProduto').value = produto.nome;
    document.getElementById('produtoResults').classList.remove('show');
    document.getElementById('produtoPreco').value = produto.preco.toFixed(2);
}

function addProduto() {
    if (!produtoSelecionado) {
        Swal.fire('Aten√ß√£o', 'Selecione um produto', 'warning');
        return;
    }
    
    const qtd = parseInt(document.getElementById('produtoQtd').value) || 1;
    const precoUnit = parseFloat(document.getElementById('produtoPreco').value) || 0;
    const desconto = parseFloat(document.getElementById('produtoDesconto').value) || 0;
    
    const precoComDesconto = precoUnit * (1 - desconto / 100);
    const total = precoComDesconto * qtd;
    
    orcamento.produtos.push({
        nome: produtoSelecionado.nome,
        marca: produtoSelecionado.marca || '',
        sku: produtoSelecionado.sku,
        qtd: qtd,
        preco_unit: precoUnit,
        desconto: desconto,
        total: total
    });
    
    atualizarTabelaProdutos();
    calcularTotais();
    
    document.getElementById('buscaProduto').value = '';
    document.getElementById('produtoPreco').value = '';
    document.getElementById('produtoDesconto').value = '0';
    document.getElementById('produtoQtd').value = '1';
    produtoSelecionado = null;
}

function atualizarTabelaProdutos() {
    const tbody = document.getElementById('produtosBody');
    
    if (orcamento.produtos.length === 0) {
        tbody.innerHTML = '<tr><td colspan="8" class="text-center text-muted">Nenhum produto adicionado</td></tr>';
        return;
    }
    
    const html = orcamento.produtos.map((p, idx) => `
        <tr>
            <td><strong>${p.nome}</strong></td>
            <td>${p.marca || '-'}</td>
            <td><code>${p.sku}</code></td>
            <td>${p.qtd}</td>
            <td>R$ ${p.preco_unit.toFixed(2)}</td>
            <td>${p.desconto}%</td>
            <td><strong>R$ ${p.total.toFixed(2)}</strong></td>
            <td>
                <button class="btn btn-sm btn-danger" onclick="removeProduto(${idx})">
                    <i class="bi bi-trash"></i>
                </button>
            </td>
        </tr>
    `).join('');
    
    tbody.innerHTML = html;
}

function removeProduto(idx) {
    orcamento.produtos.splice(idx, 1);
    atualizarTabelaProdutos();
    calcularTotais();
}

// ===== CALCULAR TOTAIS =====
function calcularTotais() {
    const subtotalServicos = orcamento.servicos.reduce((sum, s) => sum + s.total, 0);
    const subtotalProdutos = orcamento.produtos.reduce((sum, p) => sum + p.total, 0);
    const subtotal = subtotalServicos + subtotalProdutos;
    
    const descontoGlobal = parseFloat(document.getElementById('descontoGlobal').value) || 0;
    const totalComDesconto = subtotal * (1 - descontoGlobal / 100);
    
    const cashbackPerc = parseFloat(document.getElementById('cashbackPerc').value) || 0;
    const cashback = totalComDesconto * (cashbackPerc / 100);
    
    document.getElementById('subtotalServicos').textContent = 'R$ ' + subtotalServicos.toFixed(2);
    document.getElementById('subtotalProdutos').textContent = 'R$ ' + subtotalProdutos.toFixed(2);
    document.getElementById('totalFinal').textContent = 'R$ ' + totalComDesconto.toFixed(2);
    document.getElementById('cashbackValor').innerHTML = `üéÅ Cashback: R$ ${cashback.toFixed(2)}`;
}

function cancelarOrc() {
    Swal.fire({
        title: 'Deseja cancelar?',
        text: 'Todos os dados ser√£o perdidos',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Sim, cancelar',
        cancelButtonText: 'N√£o'
    }).then((result) => {
        if (result.isConfirmed) {
            orcamento = { servicos: [], produtos: [] };
            atualizarTabelaServicos();
            atualizarTabelaProdutos();
            calcularTotais();
            limparCliente();
            Swal.fire('Cancelado', 'Or√ßamento cancelado', 'info');
        }
    });
}

async function salvarOrc(status) {
    const clienteCPF = document.getElementById('orcCPF').value.trim();
    const clienteNome = document.getElementById('orcNomeCliente').value.trim();
    const clienteEmail = document.getElementById('orcEmail').value.trim();
    const clienteTelefone = document.getElementById('orcTelefone').value.trim();
    
    if (!clienteCPF || !clienteNome) {
        Swal.fire('Aten√ß√£o', 'Preencha CPF e nome do cliente', 'warning');
        return;
    }
    
    if (orcamento.servicos.length === 0 && orcamento.produtos.length === 0) {
        Swal.fire('Aten√ß√£o', 'Adicione pelo menos um servi√ßo ou produto', 'warning');
        return;
    }
    
    const descontoGlobal = parseFloat(document.getElementById('descontoGlobal').value) || 0;
    const cashbackPerc = parseFloat(document.getElementById('cashbackPerc').value) || 0;
    const pagamento = document.getElementById('pagamento').value;
    
    try {
        const res = await fetch('/api/orcamentos', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include',
            body: JSON.stringify({
                cliente_cpf: clienteCPF,
                cliente_nome: clienteNome,
                cliente_email: clienteEmail,
                cliente_telefone: clienteTelefone,
                servicos: orcamento.servicos,
                produtos: orcamento.produtos,
                desconto_global: descontoGlobal,
                cashback_perc: cashbackPerc,
                pagamento: { tipo: pagamento },
                status: status
            })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire({
                icon: 'success',
                title: '‚úÖ Or√ßamento Criado!',
                html: `
                    <p><strong>N√∫mero:</strong> #${data.numero}</p>
                    ${status === 'Aprovado' ? '<p>üìß E-mail enviado com contrato em PDF!</p>' : ''}
                    ${clienteTelefone ? '<p>üì± SMS enviado ao cliente!</p>' : ''}
                `,
                confirmButtonText: 'OK'
            }).then(() => {
                orcamento = { servicos: [], produtos: [] };
                atualizarTabelaServicos();
                atualizarTabelaProdutos();
                calcularTotais();
                limparCliente();
                goTo('dashboard');
            });
        } else {
            Swal.fire('Erro', data.message || 'Erro ao salvar', 'error');
        }
    } catch (e) {
        Swal.fire('Erro', 'N√£o foi poss√≠vel salvar or√ßamento', 'error');
    }
}

// Continua na pr√≥xima parte com FILA, MODALS, etc...

// ===== FILA DE ATENDIMENTO =====
async function loadFila() {
    try {
        const res = await fetch('/api/fila', { credentials: 'include' });
        const data = await res.json();
        
        const container = document.getElementById('filaContainer');
        
        if (data.success && data.fila.length > 0) {
            document.getElementById('totalFila').textContent = data.fila.length;
            
            const html = data.fila.map((item, idx) => `
                <div class="fila-item ${item.status === 'atendendo' ? 'atendendo' : ''}">
                    <div class="d-flex align-items-center gap-3">
                        <div class="posicao-badge">${idx + 1}</div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">${item.cliente_nome}</h5>
                            <p class="mb-0 text-muted">
                                <i class="bi bi-phone"></i> ${item.cliente_telefone} | 
                                <i class="bi bi-scissors"></i> ${item.servico}
                                ${item.profissional ? ' | <i class="bi bi-person"></i> ' + item.profissional : ''}
                            </p>
                            <small class="text-muted">
                                Chegou: ${new Date(item.created_at).toLocaleTimeString('pt-BR')}
                            </small>
                        </div>
                        <div>
                            ${item.status === 'aguardando' ? `
                                <button class="btn btn-success btn-sm" onclick="chamarFila('${item._id}')">
                                    <i class="bi bi-megaphone"></i> Chamar
                                </button>
                            ` : `
                                <button class="btn btn-primary btn-sm" onclick="finalizarFila('${item._id}')">
                                    <i class="bi bi-check-circle"></i> Finalizar
                                </button>
                            `}
                        </div>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = html;
        } else {
            document.getElementById('totalFila').textContent = '0';
            container.innerHTML = '<p class="text-center text-muted">Fila vazia</p>';
        }
    } catch (e) {
        console.error('Erro carregar fila:', e);
    }
}

function showModalFila() {
    const modal = new bootstrap.Modal(document.getElementById('modalFila'));
    modal.show();
}

async function adicionarFila() {
    const nome = document.getElementById('filaNome').value.trim();
    const telefone = document.getElementById('filaTelefone').value.trim();
    const servico = document.getElementById('filaServico').value.trim();
    const profissional = document.getElementById('filaProfissional').value;
    
    if (!nome || !telefone) {
        Swal.fire('Aten√ß√£o', 'Preencha nome e telefone', 'warning');
        return;
    }
    
    try {
        const res = await fetch('/api/fila', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include',
            body: JSON.stringify({
                cliente_nome: nome,
                cliente_telefone: telefone,
                servico: servico,
                profissional: profissional
            })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire({
                icon: 'success',
                title: '‚úÖ Adicionado √† fila!',
                text: `Posi√ß√£o: ${data.posicao}`,
                timer: 2000
            });
            
            document.getElementById('filaNome').value = '';
            document.getElementById('filaTelefone').value = '';
            document.getElementById('filaServico').value = '';
            
            bootstrap.Modal.getInstance(document.getElementById('modalFila')).hide();
            loadFila();
        }
    } catch (e) {
        Swal.fire('Erro', 'N√£o foi poss√≠vel adicionar', 'error');
    }
}

async function chamarFila(id) {
    try {
        const res = await fetch(`/api/fila/chamar/${id}`, {
            method: 'POST',
            credentials: 'include'
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire({
                icon: 'success',
                title: 'üì¢ Cliente chamado!',
                text: 'SMS enviado',
                timer: 1500,
                showConfirmButton: false
            });
            loadFila();
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro ao chamar', 'error');
    }
}

async function finalizarFila(id) {
    try {
        const res = await fetch(`/api/fila/finalizar/${id}`, {
            method: 'POST',
            credentials: 'include'
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire({
                icon: 'success',
                title: '‚úÖ Atendimento finalizado!',
                timer: 1500,
                showConfirmButton: false
            });
            loadFila();
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro ao finalizar', 'error');
    }
}

// ===== CONSULTAR OR√áAMENTOS =====
async function loadConsultar() {
    try {
        const res = await fetch('/api/orcamentos', { credentials: 'include' });
        const data = await res.json();
        
        const tbody = document.getElementById('consultaBody');
        
        if (data.success && data.orcamentos.length > 0) {
            const html = data.orcamentos.map(o => `
                <tr>
                    <td><strong>#${o.numero}</strong></td>
                    <td>${new Date(o.created_at).toLocaleDateString('pt-BR')}</td>
                    <td>${o.cliente_nome}</td>
                    <td><strong>R$ ${o.total_final.toFixed(2)}</strong></td>
                    <td><span class="badge ${o.status === 'Aprovado' ? 'success' : 'warning'}">${o.status}</span></td>
                    <td>
                        ${o.status === 'Aprovado' ? `
                            <a href="/api/gerar-contrato-pdf/${o._id}" class="btn btn-sm btn-primary" target="_blank">
                                <i class="bi bi-file-pdf"></i> PDF
                            </a>
                        ` : ''}
                    </td>
                </tr>
            `).join('');
            tbody.innerHTML = html;
        } else {
            tbody.innerHTML = '<tr><td colspan="6" class="text-center text-muted">Nenhum or√ßamento</td></tr>';
        }
    } catch (e) {
        console.error('Erro consultar:', e);
    }
}

// ===== CONTRATOS =====
async function loadContratos() {
    try {
        const res = await fetch('/api/contratos', { credentials: 'include' });
        const data = await res.json();
        
        const tbody = document.getElementById('contratosBody');
        
        if (data.success && data.contratos.length > 0) {
            const html = data.contratos.map(c => `
                <tr>
                    <td><strong>#${c.numero}</strong></td>
                    <td>${new Date(c.created_at).toLocaleDateString('pt-BR')}</td>
                    <td>${c.cliente_nome}</td>
                    <td><strong>R$ ${c.total_final.toFixed(2)}</strong></td>
                    <td>
                        <a href="/api/gerar-contrato-pdf/${c._id}" class="btn btn-sm btn-primary" target="_blank">
                            <i class="bi bi-file-pdf"></i> Baixar PDF
                        </a>
                    </td>
                </tr>
            `).join('');
            tbody.innerHTML = html;
        } else {
            tbody.innerHTML = '<tr><td colspan="5" class="text-center text-muted">Nenhum contrato</td></tr>';
        }
    } catch (e) {
        console.error('Erro carregar contratos:', e);
    }
}

// ===== CLIENTES =====
async function loadClientes() {
    try {
        const res = await fetch('/api/clientes', { credentials: 'include' });
        const data = await res.json();
        
        const tbody = document.getElementById('clientesBody');
        
        if (data.success && data.clientes.length > 0) {
            const html = data.clientes.map(c => `
                <tr>
                    <td><strong>${c.nome}</strong></td>
                    <td>${c.cpf}</td>
                    <td>${c.email || '-'}</td>
                    <td>${c.telefone || '-'}</td>
                    <td>${c.cidade || '-'}</td>
                </tr>
            `).join('');
            tbody.innerHTML = html;
        } else {
            tbody.innerHTML = '<tr><td colspan="5" class="text-center text-muted">Nenhum cliente</td></tr>';
        }
    } catch (e) {
        console.error('Erro carregar clientes:', e);
    }
}

function showModalCliente() {
    const modal = new bootstrap.Modal(document.getElementById('modalCliente'));
    modal.show();
}

async function cadastrarCliente() {
    const cpf = document.getElementById('clienteCPF').value.trim();
    const nome = document.getElementById('clienteNome').value.trim();
    
    if (!cpf || !nome) {
        Swal.fire('Aten√ß√£o', 'Preencha CPF e Nome', 'warning');
        return;
    }
    
    try {
        const res = await fetch('/api/clientes', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            credentials: 'include',
            body: JSON.stringify({
                cpf: cpf,
                nome: nome,
                rg: document.getElementById('clienteRG').value.trim(),
                email: document.getElementById('clienteEmail').value.trim(),
                telefone: document.getElementById('clienteTelefone').value.trim(),
                cep: document.getElementById('clienteCEP').value.trim(),
                endereco: document.getElementById('clienteEndereco').value.trim(),
                bairro: document.getElementById('clienteBairro').value.trim(),
                cidade: document.getElementById('clienteCidade').value.trim(),
                estado: document.getElementById('clienteEstado').value
            })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire('Sucesso!', 'Cliente cadastrado', 'success');
            bootstrap.Modal.getInstance(document.getElementById('modalCliente')).hide();
            loadClientes();
        } else {
            Swal.fire('Erro', data.message || 'Erro ao cadastrar', 'error');
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro na conex√£o', 'error');
    }
}

async function buscarCEP(cep, prefix) {
    cep = cep.replace(/\D/g, '');
    if (cep.length !== 8) return;
    
    try {
        const res = await fetch(`/api/cep/${cep}`);
        const data = await res.json();
        
        if (data.success && data.endereco) {
            document.getElementById(prefix + 'Endereco').value = data.endereco.logradouro;
            document.getElementById(prefix + 'Bairro').value = data.endereco.bairro;
            document.getElementById(prefix + 'Cidade').value = data.endereco.cidade;
            document.getElementById(prefix + 'Estado').value = data.endereco.estado;
        }
    } catch (e) {
        console.error('Erro buscar CEP:', e);
    }
}

// ===== PROFISSIONAIS =====
async function loadProfissionais() {
    try {
        const res = await fetch('/api/profissionais', { credentials: 'include' });
        const data = await res.json();
        
        const tbody = document.getElementById('profissionaisBody');
        
        if (data.success && data.profissionais.length > 0) {
            const html = data.profissionais.map(p => `
                <tr>
                    <td><strong>${p.nome}</strong></td>
                    <td>${p.cpf}</td>
                    <td>${p.especialidade || '-'}</td>
                    <td>${p.comissao_perc}%</td>
                    <td>${p.telefone || '-'}</td>
                    <td><span class="badge ${p.ativo ? 'success' : 'danger'}">${p.ativo ? 'Ativo' : 'Inativo'}</span></td>
                </tr>
            `).join('');
            tbody.innerHTML = html;
        } else {
            tbody.innerHTML = '<tr><td colspan="6" class="text-center text-muted">Nenhum profissional</td></tr>';
        }
    } catch (e) {
        console.error('Erro carregar profissionais:', e);
    }
}

function showModalProfissional() {
    const modal = new bootstrap.Modal(document.getElementById('modalProfissional'));
    modal.show();
}

async function cadastrarProfissional() {
    const nome = document.getElementById('profNome').value.trim();
    const cpf = document.getElementById('profCPF').value.trim();
    const email = document.getElementById('profEmail').value.trim();
    const telefone = document.getElementById('profTelefone').value.trim();
    const especialidade = document.getElementById('profEspecialidade').value.trim();
    const comissao = document.getElementById('profComissao').value;
    
    if (!nome || !cpf) {
        Swal.fire('Aten√ß√£o', 'Preencha nome e CPF', 'warning');
        return;
    }
    
    try {
        const res = await fetch('/api/profissionais', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            credentials: 'include',
            body: JSON.stringify({
                nome, cpf, email, telefone, especialidade,
                comissao_perc: comissao
            })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire('Sucesso', 'Profissional cadastrado!', 'success');
            bootstrap.Modal.getInstance(document.getElementById('modalProfissional')).hide();
            loadProfissionais();
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro ao cadastrar', 'error');
    }
}

// ===== SERVI√áOS =====
async function loadServicosLista() {
    try {
        const res = await fetch('/api/servicos', { credentials: 'include' });
        const data = await res.json();
        
        const tbody = document.getElementById('servicosListBody');
        
        if (data.success && data.servicos.length > 0) {
            const html = data.servicos.map(s => `
                <tr>
                    <td><strong>${s.nome}</strong></td>
                    <td><span class="badge info">${s.tamanho}</span></td>
                    <td><strong>R$ ${s.preco.toFixed(2)}</strong></td>
                    <td>${s.categoria}</td>
                    <td><span class="badge ${s.ativo ? 'success' : 'danger'}">${s.ativo ? 'Ativo' : 'Inativo'}</span></td>
                </tr>
            `).join('');
            tbody.innerHTML = html;
        } else {
            tbody.innerHTML = '<tr><td colspan="5" class="text-center text-muted">Nenhum servi√ßo</td></tr>';
        }
    } catch (e) {
        console.error('Erro carregar servi√ßos:', e);
    }
}

function showModalServico() {
    const modal = new bootstrap.Modal(document.getElementById('modalServico'));
    modal.show();
}

async function cadastrarServico() {
    const nome = document.getElementById('servicoNome').value.trim();
    
    if (!nome) {
        Swal.fire('Aten√ß√£o', 'Digite o nome do servi√ßo', 'warning');
        return;
    }
    
    const precos = {
        preco_kids: parseFloat(document.getElementById('servicoPrecoKids').value) || 0,
        preco_masculino: parseFloat(document.getElementById('servicoPrecoMasculino').value) || 0,
        preco_curto: parseFloat(document.getElementById('servicoPrecoCurto').value) || 0,
        preco_medio: parseFloat(document.getElementById('servicoPrecoMedio').value) || 0,
        preco_longo: parseFloat(document.getElementById('servicoPrecoLongo').value) || 0,
        preco_extra_longo: parseFloat(document.getElementById('servicoPrecoExtraLongo').value) || 0
    };
    
    try {
        const res = await fetch('/api/servicos', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            credentials: 'include',
            body: JSON.stringify({
                nome: nome,
                categoria: document.getElementById('servicoCategoria').value.trim(),
                ...precos
            })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire('Sucesso!', 'Servi√ßo cadastrado (6 SKUs criados)', 'success');
            bootstrap.Modal.getInstance(document.getElementById('modalServico')).hide();
            loadServicosLista();
        } else {
            Swal.fire('Erro', data.message || 'Erro ao cadastrar', 'error');
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro na conex√£o', 'error');
    }
}

// ===== PRODUTOS =====
async function loadProdutosLista() {
    try {
        const res = await fetch('/api/produtos', { credentials: 'include' });
        const data = await res.json();
                const tbody = document.getElementById('produtosListBody');
        
        if (data.success && data.produtos.length > 0) {
            const html = data.produtos.map(p => `
                <tr>
                    <td><strong>${p.nome}</strong></td>
                    <td>${p.marca || '-'}</td>
                    <td><code>${p.sku}</code></td>
                    <td><strong>R$ ${p.preco.toFixed(2)}</strong></td>
                    <td>R$ ${p.custo ? p.custo.toFixed(2) : '0.00'}</td>
                    <td>${p.estoque || 0}</td>
                    <td>${p.categoria}</td>
                </tr>
            `).join('');
            tbody.innerHTML = html;
        } else {
            tbody.innerHTML = '<tr><td colspan="7" class="text-center text-muted">Nenhum produto</td></tr>';
        }
    } catch (e) {
        console.error('Erro carregar produtos:', e);
    }
}

function showModalProduto() {
    const modal = new bootstrap.Modal(document.getElementById('modalProduto'));
    modal.show();
}

async function cadastrarProduto() {
    const nome = document.getElementById('produtoNome').value.trim();
    const preco = parseFloat(document.getElementById('produtoPreco').value) || 0;
    
    if (!nome || preco <= 0) {
        Swal.fire('Aten√ß√£o', 'Preencha nome e pre√ßo', 'warning');
        return;
    }
    
    try {
        const res = await fetch('/api/produtos', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            credentials: 'include',
            body: JSON.stringify({
                nome: nome,
                marca: document.getElementById('produtoMarca').value.trim(),
                sku: document.getElementById('produtoSKU').value.trim(),
                preco: preco,
                custo: parseFloat(document.getElementById('produtoCusto').value) || 0,
                estoque: parseInt(document.getElementById('produtoEstoque').value) || 0,
                categoria: document.getElementById('produtoCategoria').value.trim()
            })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire('Sucesso!', 'Produto cadastrado', 'success');
            bootstrap.Modal.getInstance(document.getElementById('modalProduto')).hide();
            loadProdutosLista();
        } else {
            Swal.fire('Erro', data.message || 'Erro ao cadastrar', 'error');
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro na conex√£o', 'error');
    }
}

// ===== IMPORTAR DADOS =====
async function handleUpload(input, tipo) {
    const file = input.files[0];
    if (!file) return;
    
    const formData = new FormData();
    formData.append('file', file);
    formData.append('tipo', tipo);
    
    Swal.fire({
        title: 'Importando...',
        html: 'Aguarde enquanto processamos o arquivo',
        allowOutsideClick: false,
        didOpen: () => {
            Swal.showLoading();
        }
    });
    
    try {
        const res = await fetch('/api/importar', {
            method: 'POST',
            credentials: 'include',
            body: formData
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire({
                icon: 'success',
                title: '‚úÖ Importa√ß√£o Conclu√≠da!',
                html: `
                    <p><strong>${data.count_success}</strong> registros importados</p>
                    ${data.count_error > 0 ? `<p class="text-danger">${data.count_error} erros (linhas ignoradas)</p>` : ''}
                `
            });
            
            if (tipo === 'produtos') loadProdutosLista();
            if (tipo === 'servicos') loadServicosLista();
        } else {
            Swal.fire('Erro', data.message, 'error');
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro ao importar arquivo', 'error');
    }
    
    input.value = '';
}

// ===== STATUS SISTEMA =====
async function verificarStatus() {
    try {
        const res = await fetch('/api/system/status', { credentials: 'include' });
        const data = await res.json();
        
        if (data.success) {
            // MongoDB
            const mongoStatus = document.getElementById('mongoStatus');
            const mongoMsg = document.getElementById('mongoMessage');
            const mongoCheck = document.getElementById('mongoLastCheck');
            
            if (data.status.mongodb.operational) {
                mongoStatus.className = 'status-indicator online';
                mongoStatus.innerHTML = '<i class="bi bi-check-circle-fill"></i><span>Online</span>';
                mongoMsg.textContent = data.status.mongodb.message;
            } else {
                mongoStatus.className = 'status-indicator offline';
                mongoStatus.innerHTML = '<i class="bi bi-x-circle-fill"></i><span>Offline</span>';
                mongoMsg.textContent = 'Banco de dados indispon√≠vel';
            }
            
            if (data.status.mongodb.last_check) {
                mongoCheck.textContent = '√öltima verifica√ß√£o: ' + new Date(data.status.mongodb.last_check).toLocaleString('pt-BR');
            }
            
            // MailerSend E-mail
            const emailStatus = document.getElementById('emailStatus');
            const emailMsg = document.getElementById('emailMessage');
            
            if (data.status.mailersend.operational) {
                emailStatus.className = 'status-indicator online';
                emailStatus.innerHTML = '<i class="bi bi-check-circle-fill"></i><span>Ativo</span>';
                emailMsg.textContent = 'E-mails ser√£o enviados com sucesso';
            } else {
                emailStatus.className = 'status-indicator offline';
                emailStatus.innerHTML = '<i class="bi bi-x-circle-fill"></i><span>Inativo</span>';
                emailMsg.textContent = 'Configure a API Key';
            }
            
            // SMS
            const smsStatus = document.getElementById('smsStatus');
            const smsMsg = document.getElementById('smsMessage');
            
            if (data.status.mailersend.operational) {
                smsStatus.className = 'status-indicator online';
                smsStatus.innerHTML = '<i class="bi bi-check-circle-fill"></i><span>Ativo</span>';
                smsMsg.textContent = 'SMS ser√£o enviados com sucesso';
            } else {
                smsStatus.className = 'status-indicator offline';
                smsStatus.innerHTML = '<i class="bi bi-x-circle-fill"></i><span>Inativo</span>';
                smsMsg.textContent = 'Configure a API Key';
            }
            
            // Server time
            if (data.status.server && data.status.server.time) {
                document.getElementById('serverTime').textContent = new Date(data.status.server.time).toLocaleString('pt-BR');
            }
        }
        
        // Current user
        if (currentUser) {
            document.getElementById('currentUserInfo').textContent = `${currentUser.name} (@${currentUser.username})`;
        }
    } catch (e) {
        console.error('Erro verificar status:', e);
    }
}

// ===== CONFIGURA√á√ïES =====
async function salvarConfig() {
    const nome = document.getElementById('cfgNome').value.trim();
    const cnpj = document.getElementById('cfgCNPJ').value.trim();
    const endereco = document.getElementById('cfgEndereco').value.trim();
    const telefone = document.getElementById('cfgTelefone').value.trim();
    const email = document.getElementById('cfgEmail').value.trim();
    
    try {
        const res = await fetch('/api/config', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            credentials: 'include',
            body: JSON.stringify({ nome, cnpj, endereco, telefone, email })
        });
        
        const data = await res.json();
        
        if (data.success) {
            Swal.fire('Sucesso', 'Configura√ß√µes salvas!', 'success');
        }
    } catch (e) {
        Swal.fire('Erro', 'Erro ao salvar', 'error');
    }
}

// ===== EVENT LISTENERS =====
function initEventListeners() {
    // Click fora fecha autocomplete
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.autocomplete-container')) {
            document.querySelectorAll('.autocomplete-results').forEach(r => r.classList.remove('show'));
        }
    });
    
    // Prevenir envio de formul√°rios em Enter (exceto login/register)
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
            const isAuthForm = e.target.closest('#loginForm, #registerForm');
            if (!isAuthForm && e.target.type !== 'submit') {
                e.preventDefault();
            }
        }
    });
}

// ===== HELPER FUNCTIONS =====
function formatCurrency(value) {
    return new Intl.NumberFormat('pt-BR', {
        style: 'currency',
        currency: 'BRL'
    }).format(value);
}

function formatDate(date) {
    return new Date(date).toLocaleDateString('pt-BR');
}

function formatDateTime(date) {
    return new Date(date).toLocaleString('pt-BR');
}

// ===== M√ÅSCARAS =====
function aplicarMascaras() {
    // CPF
    const cpfInputs = document.querySelectorAll('input[type="text"][placeholder*="CPF"], input[id*="CPF"]');
    cpfInputs.forEach(input => {
        input.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.slice(0, 11);
            
            if (value.length > 9) {
                value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
            } else if (value.length > 6) {
                value = value.replace(/(\d{3})(\d{3})(\d{1,3})/, '$1.$2.$3');
            } else if (value.length > 3) {
                value = value.replace(/(\d{3})(\d{1,3})/, '$1.$2');
            }
            
            e.target.value = value;
        });
    });
    
    // Telefone
    const telInputs = document.querySelectorAll('input[type="text"][placeholder*="telefone"], input[id*="Telefone"]');
    telInputs.forEach(input => {
        input.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.slice(0, 11);
            
            if (value.length > 10) {
                value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            } else if (value.length > 6) {
                value = value.replace(/(\d{2})(\d{4})(\d{0,4})/, '($1) $2-$3');
            } else if (value.length > 2) {
                value = value.replace(/(\d{2})(\d{0,5})/, '($1) $2');
            }
            
            e.target.value = value;
        });
    });
    
    // CEP
    const cepInputs = document.querySelectorAll('input[id*="CEP"]');
    cepInputs.forEach(input => {
        input.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 8) value = value.slice(0, 8);
            
            if (value.length > 5) {
                value = value.replace(/(\d{5})(\d{1,3})/, '$1-$2');
            }
            
            e.target.value = value;
        });
    });
}

// Aplicar m√°scaras ao carregar
setTimeout(aplicarMascaras, 1000);

// ===== ATALHOS DE TECLADO =====
document.addEventListener('keydown', (e) => {
    // Ctrl/Cmd + N = Novo Or√ßamento
    if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
        e.preventDefault();
        goTo('orcamento');
    }
    
    // Ctrl/Cmd + F = Fila
    if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
        e.preventDefault();
        goTo('fila');
    }
    
    // Ctrl/Cmd + D = Dashboard
    if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
        e.preventDefault();
        goTo('dashboard');
    }
    
    // Ctrl/Cmd + T = Alternar Tema
    if ((e.ctrlKey || e.metaKey) && e.key === 't') {
        e.preventDefault();
        toggleTheme();
    }
});

// ===== NOTIFICA√á√ïES =====
function mostrarNotificacao(titulo, mensagem, tipo = 'info') {
    if ('Notification' in window && Notification.permission === 'granted') {
        new Notification(titulo, {
            body: mensagem,
            icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üå≥</text></svg>',
            badge: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üå≥</text></svg>'
        });
    }
}

// Pedir permiss√£o para notifica√ß√µes
if ('Notification' in window && Notification.permission === 'default') {
    Notification.requestPermission();
}

// ===== ATUALIZA√á√ÉO AUTOM√ÅTICA =====
let autoRefreshInterval = null;

function iniciarAutoRefresh() {
    // Atualizar dashboard a cada 30 segundos
    autoRefreshInterval = setInterval(() => {
        const dashboardAtivo = document.getElementById('section-dashboard').classList.contains('active');
        if (dashboardAtivo && currentUser) {
            loadDashboard();
        }
        
        // Atualizar fila a cada 15 segundos se estiver na tela
        const filaAtiva = document.getElementById('section-fila').classList.contains('active');
        if (filaAtiva && currentUser) {
            loadFila();
        }
    }, 30000);
}

// Iniciar auto refresh quando logar
if (currentUser) {
    iniciarAutoRefresh();
}

// ===== PERFORMANCE =====
// Lazy loading de imagens
if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                if (img.dataset.src) {
                    img.src = img.dataset.src;
                    imageObserver.unobserve(img);
                }
            }
        });
    });
    
    document.querySelectorAll('img[data-src]').forEach(img => imageObserver.observe(img));
}

// Service Worker (PWA - Progressive Web App)
if ('serviceWorker' in navigator && location.protocol === 'https:') {
    navigator.serviceWorker.register('/sw.js').then(reg => {
        console.log('Service Worker registrado:', reg);
    }).catch(err => {
        console.log('Service Worker erro:', err);
    });
}

// ===== ANALYTICS =====
function trackEvent(categoria, acao, label = '') {
    console.log(`üìä Analytics: ${categoria} - ${acao} - ${label}`);
    // Aqui voc√™ pode integrar com Google Analytics, Mixpanel, etc.
}

// Rastrear navega√ß√£o
const originalGoTo = goTo;
goTo = function(section) {
    trackEvent('Navega√ß√£o', 'Trocar Se√ß√£o', section);
    return originalGoTo(section);
};

// ===== BACKUP AUTOM√ÅTICO =====
function fazerBackupLocal() {
    const backup = {
        orcamento: orcamento,
        timestamp: new Date().toISOString(),
        user: currentUser?.username
    };
    
    localStorage.setItem('bioma_backup_orcamento', JSON.stringify(backup));
    console.log('üíæ Backup local salvo');
}

// Salvar backup a cada mudan√ßa no or√ßamento
const originalAddServico = addServico;
addServico = function() {
    originalAddServico();
    fazerBackupLocal();
};

const originalAddProduto = addProduto;
addProduto = function() {
    originalAddProduto();
    fazerBackupLocal();
};

// Restaurar backup ao carregar
function restaurarBackupLocal() {
    const backup = localStorage.getItem('bioma_backup_orcamento');
    if (backup) {
        try {
            const data = JSON.parse(backup);
            const dataBackup = new Date(data.timestamp);
            const agora = new Date();
            const diferencaHoras = (agora - dataBackup) / 1000 / 60 / 60;
            
            if (diferencaHoras < 24) {
                Swal.fire({
                    title: 'Backup Encontrado',
                    text: `Deseja restaurar o or√ßamento de ${dataBackup.toLocaleString('pt-BR')}?`,
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'Sim, restaurar',
                    cancelButtonText: 'N√£o'
                }).then((result) => {
                    if (result.isConfirmed) {
                        orcamento = data.orcamento;
                        atualizarTabelaServicos();
                        atualizarTabelaProdutos();
                        calcularTotais();
                        goTo('orcamento');
                        Swal.fire('Restaurado!', 'Or√ßamento restaurado com sucesso', 'success');
                    } else {
                        localStorage.removeItem('bioma_backup_orcamento');
                    }
                });
            }
        } catch (e) {
            console.error('Erro ao restaurar backup:', e);
        }
    }
}

// Verificar backup ao carregar app
if (currentUser) {
    setTimeout(restaurarBackupLocal, 2000);
}

// ===== LOGS E DEBUG =====
console.log('%cüå≥ BIOMA UBERABA v2.5 ', 'background: #7C3AED; color: #fff; font-size: 24px; padding: 15px; border-radius: 8px; font-weight: 900;');
console.log('%cSistema Ultra Profissional de Gest√£o', 'color: #7C3AED; font-size: 16px; font-weight: 700;');
console.log('%c‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ', 'color: #6B7280;');
console.log('%cDesenvolvedor: @juanmarco1999', 'color: #6B7280; font-size: 12px;');
console.log('%cEmail: 180147064@aluno.unb.br', 'color: #6B7280; font-size: 12px;');
console.log('%cData: 2025-10-05 05:15:21 UTC', 'color: #6B7280; font-size: 12px;');
console.log('%c‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ', 'color: #6B7280;');
console.log('%cüí° Dicas:', 'color: #F59E0B; font-size: 14px; font-weight: 700;');
console.log('%c   Ctrl+N ‚Üí Novo Or√ßamento', 'color: #6B7280;');
console.log('%c   Ctrl+F ‚Üí Fila de Atendimento', 'color: #6B7280;');
console.log('%c   Ctrl+D ‚Üí Dashboard', 'color: #6B7280;');
console.log('%c   Ctrl+T ‚Üí Alternar Tema', 'color: #6B7280;');
console.log('%c‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ', 'color: #6B7280;');

// ===== FIM DO SCRIPT =====
</script>

</body>
</html>